<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Main page</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootswatch/4.0.0/flatly/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css" media="screen" title="no title">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="css/styles.css">

</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col-md-3">
        <div class="sidenav">
          <a href="#">Back</a>
          <a href="#">Tables</a>
          <a href="#"> orders</a>
          <a href="#">payment</a>

        </div>
      </div>

      <div class="col-md-9">
        <div class="row">
          <div class="col-12 col-md-2 mt-4">
          </div>
        </div>
        <div class="row">
          <!-- </div> -->
          <div class="col-md-3">
            <button type="button" class="btn btn-info btn-lg tableBtn" id="table-1" data-toggle="modal" isOccupy="0"
              data-target="#Not-Occupied">table-1</button>
          </div>
          <div class="col-sm-3">
            <button type="button" class="btn btn-info btn-lg tableBtn" id="table-2" data-toggle="modal" isOccupy="0"
              data-target="#Not-Occupied">table-2</button>
          </div>
          <div class="col-md-3">
            <button type="button" class="btn btn-info btn-lg tableBtn" id="table-3" data-toggle="modal" isOccupy="0"
              data-target="#Not-Occupied">table-3</button>
          </div>
          <div class="col-md-3">
            <button type="button" class="btn btn-info btn-lg tableBtn" id="table-4" data-toggle="modal" isOccupy="0"
              data-target="#Not-Occupied">table-4</button>
          </div>
        </div>
      </div>
      <!-- here is the setting of modal -->

      <!-- Modal Occupied -->
      <div class="modal fade" id="Occupied" role="dialog">
        <div class="modal-dialog">

          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">Table {{ table_name }}</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <div class="modal-body">
              <div class="row">
                <div class="col-md-8">
                  <h4 class="text-danger"><strong>Appetizer</strong></h4>
                  <P id="AppOne">wagyu meatballs: {{ Count }}</P>
                  <p>pan seared scallops: {{ AppTwoCount }}</p>
                  <p>Lobster risotto: {{ AppThreeCount }}</p>
                  <br>
                  <h4 class="text-danger"><strong>Entre'</strong></h4>
                  <P>beef wellington: {{ EntOneCount }}</P>
                  <p>roasted rack of lamb: {{ EntrTwoCount }}</p>
                  <p>crispy skin salmon: {{ EntrThreeCount }}</p>
                  <br>
                  <h4 class="text-danger"><strong>Desert</strong></h4>
                  <P>sticky toffee pudding: {{ DesOneCount }}</P>
                  <p>cranberry soufflé: {{ DesTwoCount }}</p>
                  <br>
                </div>
              </div>

              <!-- buttons below -->
              <!-- <div class="modal-footer"> -->
              <!-- buttons below -->
              <!-- <div class="modal-footer"> -->
              <div class="row">
                <div class="col-md-3" id="Appetizer">
                  <button type="button" class="btn btn-lg btn-primary" id="btn-app">Appetizer</button>
                </div>
                <div class="col-md-3" id="Entre">
                  <button type="button" class="btn btn-lg " id="btn-ent">Entre'</button>
                </div>
                <div class="col-md-3" id="Desert">
                  <button type="button" class="btn btn-lg" id="btn-des">Desert</button>
                </div>
                <div class="col-md-3" id="clear">
                  <button type="button" class="btn btn-lg btn-primary" id="clearBtn">Clear</button>
                </div>
              </div>
              <br>


            </div>
            <br>

          </div>
        </div>
      </div>

    </div>
    <!-- Modal Occupied -->
    <div class="modal fade" id="Not-Occupied" role="dialog">
      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Table {{ table_name }}</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class=" offset-md-3 col-md-7">
                <form>
                  <h4 class="text-danger"><strong>Appetizer</strong></h4>

                  wagyu meatballs: <input type="text" size="4" id="AppOne"><br>
                  pan seared scallops: <input type="text" size="4" id="AppTwo"><br>
                  Lobster risotto: <input type="text" size="4" id="AppThree">

                  <br><br>

                  <h4 class="text-danger"><strong>Entre'</strong></h4>

                  beef wellington: <input type="text" size="4" id="EntOne"><br>
                  roasted rack of lamb: <input type="text" size="4" id="EntTwo"><br>
                  crispy skin salmon: <input type="text" size="4" id="EntThree">

                  <br><br>

                  <h4 class="text-danger"><strong>Desert</strong></h4>

                  sticky toffee pudding: <input type="text" size="4" id="DesOne"><br>
                  cranberry soufflé: <input type="text" size="4" id="DesTwo"><br>
                  <br><br>
                  <button type="button" class="btn btn-default" data-dismiss="modal" id="submitBtn">Finish Order &
                    Submit</button>
                </form>

                <br>
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>

  </div>

  <!-- Here start javascript -->

  <script type="text/javascript">
    $(".tableBtn").on("click",chosenTable);
    $("#Appetizer").on("click", changeBtnApp);
    $("#Entre").on("click", changeBtnEnt);
    $("#Desert").on("click", changeBtnDes);
    $("#clear").on("click", changeBtnCle);
    $("#submitBtn").on("click", changeToOccupied)
    $("#clearBtn").on("click", changeToNotOccupied)
    var countApp = 0;
    var selectedTable = "";
    function changeBtnApp() {
      $("#btn-app").attr("disabled", true);
      $("#btn-app").removeClass("btn-primary");
      $("#btn-app").addClass("btn-secondary");
      $("#btn-ent").addClass("btn-primary");
      countApp++;
    }
    function changeBtnEnt() {
      if (countApp == 1) {
        $("#btn-ent").attr("disabled", true);
        $("#btn-ent").removeClass("btn-primary");
        $("#btn-ent").addClass("btn-secondary");
        $("#btn-des").addClass("btn-primary");
        countApp++;
      } else {
        return
      }

    }
    function changeBtnDes() {
      if (countApp == 2) {
        $("#btn-des").attr("disabled", true);
        $("#btn-des").removeClass("btn-primary");
        $("#btn-des").addClass("btn-secondary");
        countApp++;
      } else {
        return
      }

    }
    function changeBtnCle() {
      if (countApp == 3) {
        $("#btn-app").attr("disabled", false);
        $("#btn-ent").attr("disabled", false);
        $("#btn-des").attr("disabled", false);
        $("#btn-app").removeClass("btn-secondary");
        $("#btn-app").addClass("btn-primary");
        countApp = 0;
      } else {
        return
      }

    }
    function changeToOccupied() {
      $('#' + selectedTable).removeAttr("isOccupy");
      $('#' + selectedTable).removeAttr("data-target");
      $('#' + selectedTable).attr("isOccupy", "1");
      $('#' + selectedTable).attr("data-target", "#Occupied")
      selectedTable ="";
    }
    function changeToNotOccupied() {
      $('#' + selectedTable).removeAttr("isOccupy");
      $('#' + selectedTable).removeAttr("data-target");
      $('#' + selectedTable).attr("isOccupy", "0");
      $('#' + selectedTable).attr("data-target", "#Not-Occupied")
      selectedTable ="";
    }
    function chosenTable(){
      selectedTable = this.id
      console.log("selectedTable: ",selectedTable)
    }

  </script>

</body>

</html>